%%%%%% Covered example 2 %%%%%%
%%%%%% Service: preventive_care_immunization %%%%%%
%%%%%% Covid Vaccine in 2024 %%%%%%
%%%%%% Immunocompromised %%%%%%
%%%%%% Age 12 %%%%%%
%%%%%% Reason: Already begun a different series %%%%%%

%%% Types %%%
type(policy1, policy)
type(rta_bondonado, person)
type(claim1, claim)

%%% Policy %%%
policy.insuree(policy1, rta_bondonado)
policy.type(policy1, aetna_cardinal_care_2023_2024)

%%% Person %%%
person.dob(rta_bondonado, 2011_08_31)

%%% Claim %%%
%% Service-generic %%
claim.patient(claim1, rta_bondonado)
claim.quarter_enrolled_stanford_2024_2025(claim1, autumn_quarter_2024)
claim.date_service_received(claim1,2024_08_30)
claim.service_type(claim1, preventive_care_immunization)
claim.precertification_received(claim1, no)
claim.waived_cardinal_care(claim1, no)

claim.location_service_received(claim1, stanford_health_care)
claim.service_available_at_tier_one_or_two_location(claim1, yes)

%% Service-specific %%
% claim.immunization_for_disease(claim1, covid19_disease)
claim.reason_for_immunization(claim1, preventive_care)

% Covid vaccine-specific
claim.patient_is_immunocompromised(claim1, yes)
claim.covid19_vaccine_brand(claim1, pfizer_biontech)

claim.covid19_vaccination(claim1, covid19_vaccination_event(0, moderna, updated_2024_2025))
claim.covid19_vaccination(claim1, covid19_vaccination_event(1, moderna, updated_2024_2025))
% Uncomment this to test the case where the patient has received a third updated moderna vaccine
% claim.covid19_vaccination(claim1, covid19_vaccination_event(2, moderna, updated_2024_2025))

%% General Exclusions %% 
claim.reception_of_service_or_supplies_resulted_from_service_in_armed_forces(claim1, no)
claim.service_or_supplies_provided_by_provider_acting_beyond_scope_of_legal_authority(claim1, no)
claim.service_is_clinical_trial_therapy_experimental_investigational(claim1, no)
claim.service_is_genetic_care(claim1, no)
claim.service_for_correction_of_congenital_birth_defects(claim1, no)
claim.payment_for_service_made_for_judgment_settlement(claim1, no)
claim.service_provided_by_family_member(claim1, no)
claim.treated_in_facility_owned_or_operated_by_governmental_entity(claim1, no)