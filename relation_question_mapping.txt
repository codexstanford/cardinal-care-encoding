%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Policy facts (Obtained when the user creates the policy object, so not necessary for claim page UI)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
policy.insuree
The "covered student" in the Cardinal Care policy.
- A person object constant

policy.type
Should be the most recent Cardinal Care policy.
- aetna_cardinal_care_2023_2024

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Person facts (Obtained when the user creates/updates a person object, so not necessary for claim page UI)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
person.dob

person.has_female_reproductive_organs
"Did the patient have female reproductive organs?"
- yes/no

person.has_male_reproductive_organs
"Did the patient have male reproductive organs?"
- yes/no

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Claim information, service-generic
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
claim.patient
"Who received the service?"
- A person object constant

claim.date_service_received
"On what date was the service received?"
- A date

claim.service_type
"What type of service was received?"
(Actually just determined by the claims page that we are on, so likely not necessary to explicitly get this from user input on the claims page.)
One of:
- diagnose_and_evaluate_underlying_medical_cause_of_infertility: "Services to diagnose and evaluate the underlying medical cause of infertility"
- surgery_to_treat_underlying_medical_cause_of_infertility: "Surgery to treat the underlying medical cause of infertility"
- ovulation_induction_cycle_with_menotropins: "Ovulation Induction cycle (with menotropins)"
- intrauterine_insemination: "Intrauterine Insemination"
- ivf_for_fertility_preservation: "IVF (for fertility preservation)"
- cryopreservation_for_fertility_preservation: "Cryopreservation (for fertility preservation)"

claim.precertification_received
"Was precertification received for the service? (If you received the service at an in-network provider, then it is not your responsibility to obtain precertification. Instead, it is your physician's responsibility.)"
- yes/no

claim.waived_cardinal_care
"Did you waive enrollment in Cardinal Care for the 2023-2024 school year?"
- yes/no

person.quarter_enrolled_stanford_2023_2024
"What was the first quarter you were enrolled at Stanford during the 2023-2024 school year?"
One of:
- autumn_quarter_2023: "Autumn Quarter 2023"
- winter_quarter_2023: "Winter Quarter 2023"
- spring_quarter_2023: "Spring Quarter 2023"

claim.location_service_received
"Where was the service received?"
Should be one of 
- stanford_health_care: "A Stanford Health Care provider"
- menlo_medical_clinic: "Menlo Medical Clinic"
- sutter_health_palo_alto_medical_foundation: "A Sutter Health/Palo Alto Medical Foundation provider"
- tier_two_in_network: "An Aetna Tier Two in-network provider"
- other: "Another provider"

claim.service_available_at_tier_one_or_two_location
"Was the service available at a Stanford Health Care, Menlo Medical Clinic, Sutter Health/Palo Alto Medical Foundation, or Aetna Tier Two provider?"
- yes/no


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Claim information, service-specific
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% I. Diagnose and Evaluate the Underlying Cause of Infertility

%%% II. Surgery to Treat the Underlying Cause of Infertility

%%% III. Ovulation Induction Cycle with Menotropins
claim.num_months_regular_intravaginal_inseminations
"How many months of regular intravaginal inseminations had the patient undergone?"
- A nonnegative integer

claim.num_cycles_timed_intrauterine_intracervial_inseminations
"How many cycles of timed intrauterine or intracervical inseminations documented in the medical record had the patient undergone?"
- A nonnegative integer


%%% IV. Intrauterine Insemination

claim.num_other_covered_artificial_insemination_attempts
"How many other artifical insemination attempts had been covered this policy year?"
- A nonnegative integer

%%% V. IVF for Fertility Preservation

claim.num_cycles_oral_or_injectable_ovulation_induction
"How many cycles of oral or injectable ovulation induction had the patient undergone?"
- A nonnegative integer

claim.inseminations_not_expected_to_be_effective_and_ivf_expected_to_be_only_effective_treatment
"For the patient, would intravaginal, intrauterine, or intracervical inseminations not have been expected to be effective, and would IVF have been expected to be the only effective treatment?"
- yes/no

claim.service_is_ivf_with_embryo_transfer
"Was the IVF procedure IVF with embryo transfer?"
- yes/no


%%% VI. Cryopreservation for Fertility Preservation

%%%%%%%%%%%%%%%%%% For I, II, III, and IV: information relevant to determining whether someone meets the definition of infertile %%%%%%%%%%%%%%%%%%

claim.patient_has_partner_with_female_reproductive_organs
"Did the patient have a partner with female reproductive organs?"
- yes/no

claim.patient_has_partner_with_male_reproductive_organs
"Did the patient have a partner with male reproductive organs?"
- yes/no

claim.age_of_patients_female_partner
"What was the age of the patient's partner with female reproductive organs?"
- a nonnegative integer
If not applicable, can default to 0.

claim.num_cycles_donor_insemination
"How many cycles of donor artificial insemination had the patient undergone?"
- A nonnegative integer

claim.num_months_unprotected_intercourse
"For how many months of unprotected timed intercourse had the patient tried to conceive?"
- Nonnegative integer

claim.abnormal_semen_analysis_on_date
"When had the patient obtained abnormal semen analyses?"
- UI: List of dates (represented internally as distinct attributerelation facts for a multivalued relation)

claim.patient_diagnosed_with_gender_dysphoria
"Had the patient been diagnosed with gender dysphoria?"
- yes/no

%%%%%%%%%%%%%%%%%% For III and IV %%%%%%%%%%%%%%%%%%
claim.patient_has_had_voluntary_sterilization
"Had the patient had a voluntary sterilization, with or without surgical reversal, regardless of post reversal results?"
- yes/no

claim.patient_had_partner
"Did the patient have a partner at the time of the service?"
- yes/no

claim.patients_partner_has_had_voluntary_sterilization
"Had the patient's partner had a voluntary sterilization, with or without surgical reversal, regardless of post reversal results?"
- yes/no

claim.demonstrated_and_documented_condition_causing_infertility
"What condition did the patient have that was/is causing infertility?"
One of:
- natural_menopause: "Natural Menopause"
- natural_perimenopause: "Natural Perimenopause"
- natural_male_reproductive_aging: "Natural male reproductive aging"
- other_natural_physiologic_process: "Another natural physiologic process"
- other: "Another condition not due to a natural physiologic process"

claim.successful_pregnancy_can_be_attained_through_less_costly_treatment_covered_by_plan
"Could a successful pregnancy have been attained through a less costly treatment for which coverage is available under their Cardinal Care 2023-2024 plan?"
- yes/no

%%%%%%%%%%%%%%%%%% For III, IV, V, and VI %%%%%%%%%%%%%%%%%%
claim.day_3_fsh_test
"For each day 3 FSH test the patient has had performed, please enter the results and the date on which the test was performed."
- UI: List of test results in mIU/mL, and datetimes (represented internally as distinct attributerelation facts for a multivalued relation)
- The relevant threshold of mIU/mL is 19 (below that is infertile)
- the second argument to claim.day_3_fsh_test should be an object of the form fsh_test(Index, Level, DateTime)
- DateTime is expected to be an object of the form dt(Date, Time)

%%%%%%%%%%%%%%%%%% For V, and VI %%%%%%%%%%%%%%%%%%
claim.patient_is_believed_to_be_fertile
"Was the patient believed to be fertile?"
- yes/no

claim.planned_service
"What services did the patient have planned before the service?"
Any of the following (can be multi-valued):
- chemotherapy: "Chemotherapy"
- pelvic_radiotherapy: "Pelvic Radiotherapy"
- gonadotoxic_therapy: "A gonadotoxic therapy"
- orchiectomy: "Orchiectomy (removal of one or both testicles), not for treatment of disease"
- oophorectomy: "Oophorectomy (removal of one or both ovaries), not for treatment of disease"
- hysterectomy: "Hysterectomy"
- orchiectomy_for_treatment_of_disease: "Orchiectomy for treatment of disease"
- oophorectomy_for_treatment_of_disease: "Oophorectomy for treatment of disease"
- other_treatment_demonstrated_to_result_in_infertility: "Another treatment demonstrated to result in infertility"
- other: "Another treatment not demonstrated to result in infertility"

claim.will_be_retrieving_eggs_for_use
"Did the service include retrieving the patient's eggs for use?"
- yes/no

claim.patient_has_premature_ovarian_failure
"Does the patient have premature ovarian failure?"
- yes/no

claim.num_other_covered_art_services
"How many other courses of ART treatment had been covered during this policy year?"
- A nonnegative integer

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% General exclusions 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Armed forces
claim.reception_of_service_or_supplies_resulted_from_service_in_armed_forces
"Was the service received from a provider as a result of an injury sustained, or illness contracted, while in the service of the armed forces of any country?"
- yes/no

% Beyond legal authority
claim.service_or_supplies_provided_by_provider_acting_beyond_scope_of_legal_authority
"Was the service provided by a provider that was acting beyond the scope of its legal authority? (I.e. was the provider licensed/certified to provide the health care services they provided to you? If not, then they were acting beyond the scope of their legal authority.)"
- yes/no

% Clinical trial therapies (experimental or investigational)
claim.service_is_clinical_trial_therapy_experimental_investigational
"Was the service an experimental or investigational clinical trial therapy?"
- yes/no

% Genetic care
claim.service_is_genetic_care
"Did the service alter the body's genes, genetic make-up, or the expression of the body's genes?"
- yes/no

claim.service_for_correction_of_congenital_birth_defects
"Was the service for the correction of congenital birth defects?"
- yes/no

% Judgment or settlement
claim.payment_for_service_made_for_judgment_settlement
"Is payment for this service made as a judgment or settlement by any person deemed responsible for an injury or illness, or by their insurers?"
- yes/no


% Services provided by a family member
claim.service_provided_by_family_member
"Was the service provided by a spouse, domestic partner, civil union partner, parent, child, step-child, brother, sister, in-law or any household member of the patient?"
- yes/no


% Treatment in a federal, state, or governmental entity
claim.treated_in_facility_owned_or_operated_by_governmental_entity
"Was the service received in a facility owned or operated by any federal, state, or other governmental entity?"
- yes/no
